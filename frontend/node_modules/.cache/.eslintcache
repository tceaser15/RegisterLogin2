[{"C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\index.js":"1","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\App.js":"2","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Footer.js":"3","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Body.js":"4","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Home.js":"5","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Account.js":"6","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Cols.js":"7","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Navbar.js":"8","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\BookDetails.js":"9","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\API.js":"10","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Middleware.jsx":"11"},{"size":325,"mtime":1702488731474,"results":"12","hashOfConfig":"13"},{"size":253,"mtime":1702488731458,"results":"14","hashOfConfig":"13"},{"size":581,"mtime":1702488731462,"results":"15","hashOfConfig":"13"},{"size":5062,"mtime":1702585880479,"results":"16","hashOfConfig":"13"},{"size":1915,"mtime":1702488731463,"results":"17","hashOfConfig":"13"},{"size":1935,"mtime":1702574756361,"results":"18","hashOfConfig":"13"},{"size":3885,"mtime":1702664969162,"results":"19","hashOfConfig":"13"},{"size":1946,"mtime":1702584729120,"results":"20","hashOfConfig":"13"},{"size":1692,"mtime":1702488731461,"results":"21","hashOfConfig":"13"},{"size":151,"mtime":1702488731459,"results":"22","hashOfConfig":"13"},{"size":450,"mtime":1702493292117,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},"1kd4fob",{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62"},"C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\index.js",[],[],["63"],"C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\App.js",[],[],"C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Footer.js",[],[],"C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Body.js",["64","65"],[],"import React, {useEffect, useState} from 'react';\nimport {Route, Routes, useNavigate} from 'react-router-dom';\nimport Home from \"./Home\";\nimport Cols from \"./Cols\";\nimport Account from \"./Account\";\nimport Navbar from \"./Navbar\"\nimport BookDetails from \"./BookDetails\";\n\nimport \"./Navbar.css\";\nimport \"./body.css\";\nimport Middleware from \"./Middleware\";\n\nconst Body = () => {\n\n\n  const [results, setResults] = useState([]);\n  const [sorted, setSorted] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(() => {\n    const savedIsLoggedIn = localStorage.getItem('isLoggedIn')\n    return savedIsLoggedIn ? JSON.parse(savedIsLoggedIn) : false\n  });\n  const navigate = useNavigate();\n\n  const [isLoggingIn, setIsLoggingIn] = useState(false);\n  const [currentUser, setCurrentUser] = useState(() => {\n    const savedUser = localStorage.getItem('currentUser');\n    return savedUser ? JSON.parse(savedUser) : {username: '', email: ''}\n  })\n\n  useEffect(() => {\n    if (currentUser.username && currentUser.email) {\n      localStorage.setItem('currentUser', JSON.stringify(currentUser))\n    }\n  }, [currentUser]);\n\n  useEffect(() => {\n    localStorage.setItem('isLoggedIn', JSON.stringify(isLoggedIn))\n  }, [isLoggedIn]);\n\n\n  console.log(currentUser, isLoggedIn, \"here is current User\");\n\n  const handleUsernameChange = (newUsername) => {\n    setUsername(newUsername);\n  };\n\n  const handlePasswordChange = (newPassword) => {\n    setPassword(newPassword);\n  };\n\n  const handleEmailChange = (newEmail) => {\n    setEmail(newEmail);\n  };\n\n\n  const handleLogout = (event) => {\n    event.preventDefault();\n\n    setIsLoggedIn(false);\n    setCurrentUser({username: '', email: ''})\n    localStorage.setItem('isLoggedIn', JSON.stringify(false));\n    localStorage.removeItem('currentUser')\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const user = {\n        username,\n        email,\n        password\n      };\n\n      const response = await Middleware.register(user);\n\n      setIsLoggedIn(true);\n      setCurrentUser(prevState => ({...prevState, username: response.data.username, email: response.data.email}));\n      localStorage.setItem('currentUser', JSON.stringify(response.data));\n\n      setSuccessMessage('Signup Successful!')\n\n      navigate(\"/\")\n\n\n    } catch (error) {\n      setError(\"Invalid Email or Password\");\n      console.error(\"Registration Error:\", error);\n      setTimeout(() =>{\n        setError(\"\");\n      }, 5000);\n    }\n  };\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n\n    try {\n      const user = {\n        email,\n        password\n      };\n\n      const response = await Middleware.login(user);\n\n      setIsLoggedIn(true);\n      const loggedInUser = response.data;\n      setCurrentUser(loggedInUser);\n      localStorage.setItem('currentUser', JSON.stringify(loggedInUser));\n      setSuccessMessage('Login Successful!')\n      navigate(\"/\");\n\n    } catch (error) {\n      setError(\"Invalid Email or Password\");\n      console.error(\"Login Error:\", error);\n      setTimeout(() =>{\n        setError(\"\");\n      }, 5000);\n    }\n  };\n\n  const handleCloseError = () => {\n    setError(null);\n  };\n\n  useEffect(() => {\n    if (successMessage) {\n      const timer = setTimeout(() => {\n        setSuccessMessage(null);\n      }, 5000); // Display the success message for 5 seconds (adjust as needed)\n\n      return () => clearTimeout(timer);\n    }\n  }, [successMessage]);\n\n\n  return (\n    <div className=\"body\">\n\n      {/* ... */}\n      {error && (\n          <div className=\"error-popup\">\n            <p>{error}</p>\n            <button onClick={handleCloseError}>Close</button>\n          </div>\n      )}\n      {/*...*/}\n\n      {/* ... */}\n      {successMessage && (\n          <div className=\"success-popup\">\n            <p>{successMessage}</p>\n          </div>\n      )}\n      {/* ... */}\n\n\n    <Navbar  setResults={setResults} sorted={sorted} isLoggedIn={isLoggedIn} currentUser={currentUser} handleLogout={handleLogout}/>\n\n\n    <Routes>\n    <Route path=\"/\" element={<Home />} />\n    <Route path=\"/collection\" element={<Cols results={results} sorted={sorted} setSorted={setSorted}/>}/>\n    <Route path=\"/account\" element={<Account   handleLogin={handleLogin}\n                                               handleSubmit={handleSubmit}\n                                               currentUser={currentUser}\n                                               isLoggedIn={isLoggedIn}\n                                               onUsernameChange={handleUsernameChange}\n                                               onPasswordChange={handlePasswordChange}\n                                               onEmailChange={handleEmailChange}/>}/>\n    <Route path=\"/book/:id\" element={<BookDetails />}/>\n\n\n\n    </Routes>\n\n    </div>\n\n    )\n}\n\nexport default Body","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Home.js",[],[],"C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Account.js",["66","67"],[],"import React, { useState } from 'react';\nimport \"./account.css\";\nimport Middleware from './Middleware';\nimport { useNavigate } from 'react-router-dom';\n\n\nconst Account = ({ handleLogin, handleSubmit, currentUser, isLoggedIn, onUsernameChange, onPasswordChange, onEmailChange }) => {\nconst [action, setAction] = useState('');\n\n\n\n    const navigate = useNavigate();\n\n\n\n    return (\n        <div className=\"account_container\">\n            <div className=\"account_header\">\n                <div className=\"text\">{action}</div>\n                <div className=\"underline\"></div>\n\n            </div>\n            <div className=\"inputs\">\n                { action === \"Login\" ? <div></div> : <div className=\"input\">\n                    <input onChange={(e) => {onUsernameChange(e.target.value)}} type=\"name\" placeholder=\" Name\" />\n                </div>}\n\n                <div className=\"input\">\n                    <input onChange={(e) => {onEmailChange(e.target.value)}} type=\"email\" placeholder=\" Email\" />\n                </div>\n                <div className=\"input\">\n                    <input onChange={(e) => {onPasswordChange(e.target.value)}} type=\"password\" placeholder=\"Password\" />\n                </div>\n            </div>\n            {action === \"Sign Up\" ? <div></div> : <div className=\"forgot-password\">Lost Password? <span>Click Here!</span></div>\n            }\n            <div className=\"submit-container\">\n                <div className={action === \"Login\" ? \"submit gray\" : \"submit\"} onClick={(event) => {handleSubmit(event); setAction(\"Submit\")}}>Register</div>\n                {/*<div className={action === \"Login\" ? \"submit gray\" : \"submit\"} onClick={() => { setAction(\"Sign Up\") }}>Sign Up</div>*/}\n                <div className={action === \"Sign Up\" ? \"submit gray\" : \"submit\"} onClick={(event) => {handleLogin(event); setAction(\"Login\")}}>Login</div>\n            </div>\n        </div>\n    )\n}\n\nexport default Account","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Cols.js",["68"],[],"import React, { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom';\n\nimport \"./cols.css\";\n\n\n\nconst Cols = ({ results, sorted, setSorted }) => {\n\n  const [books, setBooks] = useState([]);\n  const [category, setCategory] = useState([]);  \n  const navigate = useNavigate();\n  \n\n  useEffect((e) => {\n\n    fetchData();\n  }, );\n\n  \n\n  \n const fetchData = async () => {\n  const response = await  fetch(\"https://example-data.draftbit.com/books?_sort=$(sort)\")\n\n  const data = await response.json();\n  setBooks(data);\n};\n\n\n\n\n\n\n  \n  return (\n    <div className=\"collection_container\">\n\n      <div className=\"collection_header\">\n        <h1>Collection</h1>\n        \n      </div>\n     \n     \n\n      <div className=\"body_area\">\n        <div className=\"filter_container\">\n          <div className=\"sort_list\">\n            <h2 className=\"side_bar_header\">Genres</h2>\n            <div className=\"filter_dropdown\">\n              <label className=\"sidebar_label_container\">\n                <input type=\"radio\" name=\"test\" value=\"\" onClick={(e) => setCategory(e.target.value)} />\n                <span className=\"checkmark\">All</span>\n              </label>\n\n              <label className=\"sidebar_label_container\">\n                <input type=\"radio\" name=\"test\" value=\"Philosophy\" onClick={(e) => setCategory(e.target.value)} />\n                <span className=\"checkmark\">Philosophy</span>\n              </label>\n\n              <label className=\"sidebar_label_container\">\n                <input type=\"radio\" name=\"test\" value=\"Fantasy\" onClick={(e) => setCategory(e.target.value)} />\n                <span className=\"checkmark\">Fantasy</span>\n              </label>\n\n              <label className=\"sidebar_label_container\">\n                <input type=\"radio\" name=\"test\" value=\"Science Fiction\" onClick={(e) => setCategory(e.target.value)} />\n                <span className=\"checkmark\">Science Fiction</span>\n              </label>\n\n              <label className=\"sidebar_label_container\">\n                <input type=\"radio\" name=\"test\" value=\"Classics\" onClick={(e) => setCategory(e.target.value)} />\n                <span className=\"checkmark\">Classics</span>\n              </label>\n\n              <label className=\"sidebar_label_container\">\n                <input type=\"radio\" name=\"test\" value=\"Young Adult\" onClick={(e) => setCategory(e.target.value)} />\n                <span className=\"checkmark\">Young Adult</span>\n              </label>\n            </div>\n          </div>\n        </div>\n\n\n\n        <div className=\"content_area\">\n          <div className=\"book_list\">\n         \n          </div>\n          {(results == \"\") ?\n             <div>\n             <div className=\"book_list\">\n               {books.map((book) => (\n                 book.genre_list?.includes(category) === true ? \n                 <div className=\"books\" key={book.id}>      \n                   <h2>{book.title}</h2>\n                   <img src={book.image_url} alt=\"#\"\n                     onClick={() => navigate(`/book/${book.id}`)}\n                   />\n                   <button>Add to Favorites</button>\n                 </div> : <></>\n               ))}\n             </div>\n           </div>\n\n            :\n            <div>\n            <div className=\"book_list\">\n              {results.map((result) => (\n                result.genre_list?.includes(category) === true ? \n\n                <div key={result.id} className='books'>\n                  \n\n                  <h2>{result.title}</h2>\n                  <img src={result.image_url} alt=\"#\"\n                    onClick={() => navigate(`/book/${result.id}`)}\n                  />\n                  <button>Add to Favorites</button>\n                </div> : <></>\n              ))}\n            </div>\n          </div>\n\n            \n\n\n\n          }\n        </div>\n      </div>\n    </div>\n  )\n\n}\n\n\n\n\n\n\n\n\n\n\nexport default Cols;","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Navbar.js",["69"],[],"import { Link } from 'react-router-dom';\nimport React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport \"./Navbar.css\";\n\n\nexport const Navbar = ({ setResults, sorted, currentUser, isLoggedIn, handleLogout }) => {\n\n  const [input, setInput] = useState(\"\");\n  const navigate = useNavigate();\n\n  const fetchData = (value) => {\n    fetch(\"https://example-data.draftbit.com/books?_sort=$(sorted)\")\n      .then((response) => response.json())\n      .then((json) => {\n        const results = json.filter((item) => {\n          return (\n            value &&\n            item &&\n            item.title &&\n            item.title.toLowerCase().includes(value)\n\n          );\n        });\n        setResults(results);\n\n      });\n  };\n\n\n  const handleChange = (value) => {\n    setInput(value);\n    fetchData(value);\n  };\n\n\n\n\n  return (\n\n\n    <div className=\"navbar\">\n      <nav className=\"bar\">\n        <p className=\"logo\"><span className=\"b_logo\">B</span>ookmark</p>\n        {isLoggedIn ? (\n            <div className=\"user-info\">\n              <p>{currentUser.username}</p>\n              <p>{currentUser.email}</p>\n              <button className='logout-button' onClick={handleLogout}>Logout</button>\n            </div>\n        ) : (\n            <div>\n              <button className=\"login-button\" onClick={() => navigate(\"/account\")}>Login</button>)\n            </div>\n        )}\n        <div className=\"search_bar\">\n          <input\n            className=\"search\"\n            type=\"search\" id=\"search\"\n            onClick={() => navigate(`/collection`)}\n            onChange={(e) => handleChange(e.target.value)} />\n        </div>\n        <ul>\n          <span className=\"b_logo\">\n          <li><Link to=\"/\">Home</Link></li>\n          <li><Link to=\"/collection\">Collection</Link></li>\n          <li><Link to=\"/account\">Account</Link></li>\n          </span>\n        </ul>\n      </nav>\n    </div >\n  )\n}\n\nexport default Navbar;\n","C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\BookDetails.js",[],[],"C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\API.js",[],[],"C:\\Users\\8J5908897\\Downloads\\RegisterLogin2\\frontend\\src\\components\\Middleware.jsx",["70"],[],"\r\nimport axios from \"axios\";\r\nclass Middleware {\r\n\r\n    // Method to perform user login by sending a POST request with user data\r\n    login(user) {\r\n        return axios.post(\"http://localhost:8089/api/v1/user/login\", user)\r\n    }\r\n    // Method to register a new user by sending a POST request with user data\r\n    register(user) {\r\n        return axios.post(\"http://localhost:8089/api/v1/user/save\", user)\r\n    }\r\n}\r\nexport default new Middleware();",{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","severity":1,"message":"74","line":29,"column":10,"nodeType":"75","messageId":"76","endLine":29,"endColumn":21},{"ruleId":"73","severity":1,"message":"77","line":29,"column":23,"nodeType":"75","messageId":"76","endLine":29,"endColumn":37},{"ruleId":"73","severity":1,"message":"78","line":3,"column":8,"nodeType":"75","messageId":"76","endLine":3,"endColumn":18},{"ruleId":"73","severity":1,"message":"79","line":12,"column":11,"nodeType":"75","messageId":"76","endLine":12,"endColumn":19},{"ruleId":"80","severity":1,"message":"81","line":90,"column":21,"nodeType":"82","messageId":"83","endLine":90,"endColumn":23},{"ruleId":"73","severity":1,"message":"84","line":9,"column":10,"nodeType":"75","messageId":"76","endLine":9,"endColumn":15},{"ruleId":"85","severity":1,"message":"86","line":14,"column":1,"nodeType":"87","endLine":14,"endColumn":33},"no-new-object",["88"],"no-unused-vars","'isLoggingIn' is assigned a value but never used.","Identifier","unusedVar","'setIsLoggingIn' is assigned a value but never used.","'Middleware' is defined but never used.","'navigate' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'input' is assigned a value but never used.","import/no-anonymous-default-export","Assign instance to a variable before exporting as module default","ExportDefaultDeclaration","no-object-constructor"]