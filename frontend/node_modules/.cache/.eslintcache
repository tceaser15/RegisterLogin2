[{"C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\index.js":"1","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\App.js":"2","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Body.js":"3","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Footer.js":"4","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Navbar.js":"5","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Home.js":"6","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\BookDetails.js":"7","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Account.js":"8","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Middleware.jsx":"9","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\API.js":"10","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Collection.js":"11"},{"size":338,"mtime":1702915708336,"results":"12","hashOfConfig":"13"},{"size":314,"mtime":1703018912596,"results":"14","hashOfConfig":"13"},{"size":5266,"mtime":1703021956781,"results":"15","hashOfConfig":"13"},{"size":255,"mtime":1703020873886,"results":"16","hashOfConfig":"13"},{"size":2021,"mtime":1702919048594,"results":"17","hashOfConfig":"13"},{"size":2015,"mtime":1702915708334,"results":"18","hashOfConfig":"13"},{"size":1703,"mtime":1703036486709,"results":"19","hashOfConfig":"13"},{"size":1980,"mtime":1702915708325,"results":"20","hashOfConfig":"13"},{"size":450,"mtime":1702915708334,"results":"21","hashOfConfig":"13"},{"size":152,"mtime":1702915708325,"results":"22","hashOfConfig":"13"},{"size":4048,"mtime":1703021890729,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"i2ek3i",{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61"},"C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\index.js",[],[],"C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\App.js",[],[],"C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Body.js",["62","63"],[],"import React, {useEffect, useState} from 'react';\r\nimport {Route, Routes, useNavigate} from 'react-router-dom';\r\nimport Home from \"./Home\";\r\nimport Collection from \"./Collection\";\r\nimport Account from \"./Account\";\r\nimport Navbar from \"./Navbar\"\r\nimport BookDetails from \"./BookDetails\";\r\n\r\nimport \"./Navbar.css\";\r\nimport \"./body.css\";\r\nimport Middleware from \"./Middleware\";\r\n\r\nconst Body = () => {\r\n\r\n\r\n  const [results, setResults] = useState([]);\r\n  const [sorted, setSorted] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(() => {\r\n    const savedIsLoggedIn = localStorage.getItem('isLoggedIn')\r\n    return savedIsLoggedIn ? JSON.parse(savedIsLoggedIn) : false\r\n  });\r\n  const navigate = useNavigate();\r\n\r\n  const [isLoggingIn, setIsLoggingIn] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState(() => {\r\n    const savedUser = localStorage.getItem('currentUser');\r\n    return savedUser ? JSON.parse(savedUser) : {username: '', email: ''}\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (currentUser.username && currentUser.email) {\r\n      localStorage.setItem('currentUser', JSON.stringify(currentUser))\r\n    }\r\n  }, [currentUser]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('isLoggedIn', JSON.stringify(isLoggedIn))\r\n  }, [isLoggedIn]);\r\n\r\n\r\n  console.log(currentUser, isLoggedIn, \"here is current User\");\r\n\r\n  const handleUsernameChange = (newUsername) => {\r\n    setUsername(newUsername);\r\n  };\r\n\r\n  const handlePasswordChange = (newPassword) => {\r\n    setPassword(newPassword);\r\n  };\r\n\r\n  const handleEmailChange = (newEmail) => {\r\n    setEmail(newEmail);\r\n  };\r\n\r\n\r\n  const handleLogout = (event) => {\r\n    event.preventDefault();\r\n\r\n    setIsLoggedIn(false);\r\n    setCurrentUser({username: '', email: ''})\r\n    localStorage.setItem('isLoggedIn', JSON.stringify(false));\r\n    localStorage.removeItem('currentUser')\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const user = {\r\n        username,\r\n        email,\r\n        password\r\n      };\r\n\r\n      const response = await Middleware.register(user);\r\n\r\n      setIsLoggedIn(true);\r\n      setCurrentUser(prevState => ({...prevState, username: response.data.username, email: response.data.email}));\r\n      localStorage.setItem('currentUser', JSON.stringify(response.data));\r\n\r\n      setSuccessMessage('Signup Successful!')\r\n\r\n      navigate(\"/\")\r\n\r\n\r\n    } catch (error) {\r\n      setError(\"Invalid Email or Password\");\r\n      console.error(\"Registration Error:\", error);\r\n      setTimeout(() =>{\r\n        setError(\"\");\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const user = {\r\n        email,\r\n        password\r\n      };\r\n\r\n      const response = await Middleware.login(user);\r\n\r\n      setIsLoggedIn(true);\r\n      const loggedInUser = response.data;\r\n      setCurrentUser(loggedInUser);\r\n      localStorage.setItem('currentUser', JSON.stringify(loggedInUser));\r\n      setSuccessMessage('Login Successful!')\r\n      navigate(\"/\");\r\n\r\n    } catch (error) {\r\n      setError(\"Invalid Email or Password\");\r\n      console.error(\"Login Error:\", error);\r\n      setTimeout(() =>{\r\n        setError(\"\");\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const handleCloseError = () => {\r\n    setError(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (successMessage) {\r\n      const timer = setTimeout(() => {\r\n        setSuccessMessage(null);\r\n      }, 5000); // Display the success message for 5 seconds (adjust as needed)\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [successMessage]);\r\n\r\n\r\n  return (\r\n    <div className=\"body\">\r\n\r\n      {/* ... */}\r\n      {error && (\r\n          <div className=\"error-popup\">\r\n            <p>{error}</p>\r\n            <button onClick={handleCloseError}>Close</button>\r\n          </div>\r\n      )}\r\n      {/*...*/}\r\n\r\n      {/* ... */}\r\n      {successMessage && (\r\n          <div className=\"success-popup\">\r\n            <p>{successMessage}</p>\r\n          </div>\r\n      )}\r\n      {/* ... */}\r\n\r\n\r\n    <Navbar  setResults={setResults} sorted={sorted} isLoggedIn={isLoggedIn} currentUser={currentUser} handleLogout={handleLogout}/>\r\n\r\n\r\n    <Routes>\r\n    <Route path=\"/\" element={<Home />} />\r\n    <Route path=\"/collection\" element={<Collection results={results} sorted={sorted} setSorted={setSorted}/>}/>\r\n    <Route path=\"/account\" element={<Account   handleLogin={handleLogin}\r\n                                               handleSubmit={handleSubmit}\r\n                                               currentUser={currentUser}\r\n                                               isLoggedIn={isLoggedIn}\r\n                                               onUsernameChange={handleUsernameChange}\r\n                                               onPasswordChange={handlePasswordChange}\r\n                                               onEmailChange={handleEmailChange}/>}/>\r\n    <Route path=\"/book/:id\" element={<BookDetails />}/>\r\n\r\n\r\n\r\n    </Routes>\r\n\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Body","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Footer.js",[],[],"C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Navbar.js",["64"],[],"import { Link } from 'react-router-dom';\r\nimport React, { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport \"./Navbar.css\";\r\n\r\n\r\nexport const Navbar = ({ setResults, sorted, currentUser, isLoggedIn, handleLogout }) => {\r\n\r\n  const [input, setInput] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const fetchData = (value) => {\r\n    fetch(\"https://example-data.draftbit.com/books?_sort=$(sorted)\")\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n        const results = json.filter((item) => {\r\n          return (\r\n            value &&\r\n            item &&\r\n            item.title &&\r\n            item.title.toLowerCase().includes(value)\r\n\r\n          );\r\n        });\r\n        setResults(results);\r\n\r\n      });\r\n  };\r\n\r\n\r\n  const handleChange = (value) => {\r\n    setInput(value);\r\n    fetchData(value);\r\n  };\r\n\r\n\r\n\r\n\r\n  return (\r\n\r\n\r\n    <div className=\"navbar\">\r\n      <nav className=\"bar\">\r\n        <p className=\"logo\"><span className=\"b_logo\">B</span>ookmark</p>\r\n        {isLoggedIn ? (\r\n            <div className=\"user-info\">\r\n              <p>{currentUser.username}</p>\r\n              <p>{currentUser.email}</p>\r\n              <button className='logout-button' onClick={handleLogout}>Logout</button>\r\n            </div>\r\n        ) : (\r\n            <div>\r\n              <button className=\"login-button\" onClick={() => navigate(\"/account\")}>Login</button>)\r\n            </div>\r\n        )}\r\n        <div className=\"search_bar\">\r\n          <input\r\n            className=\"search\"\r\n            type=\"search\" id=\"search\"\r\n            onClick={() => navigate(`/collection`)}\r\n            onChange={(e) => handleChange(e.target.value)} />\r\n        </div>\r\n        <ul>\r\n          <span className=\"b_logo\">\r\n          <li><Link to=\"/\">Home</Link></li>\r\n          <li><Link to=\"/collection\">Collection</Link></li>\r\n          <li><Link to=\"/account\">Account</Link></li>\r\n          </span>\r\n        </ul>\r\n      </nav>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default Navbar;\r\n","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Home.js",[],[],"C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\BookDetails.js",[],[],"C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Account.js",["65","66"],[],"import React, { useState } from 'react';\r\nimport \"./account.css\";\r\nimport Middleware from './Middleware';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nconst Account = ({ handleLogin, handleSubmit, currentUser, isLoggedIn, onUsernameChange, onPasswordChange, onEmailChange }) => {\r\nconst [action, setAction] = useState('');\r\n\r\n\r\n\r\n    const navigate = useNavigate();\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"account_container\">\r\n            <div className=\"account_header\">\r\n                <div className=\"text\">{action}</div>\r\n                <div className=\"underline\"></div>\r\n\r\n            </div>\r\n            <div className=\"inputs\">\r\n                { action === \"Login\" ? <div></div> : <div className=\"input\">\r\n                    <input onChange={(e) => {onUsernameChange(e.target.value)}} type=\"name\" placeholder=\" Name\" />\r\n                </div>}\r\n\r\n                <div className=\"input\">\r\n                    <input onChange={(e) => {onEmailChange(e.target.value)}} type=\"email\" placeholder=\" Email\" />\r\n                </div>\r\n                <div className=\"input\">\r\n                    <input onChange={(e) => {onPasswordChange(e.target.value)}} type=\"password\" placeholder=\"Password\" />\r\n                </div>\r\n            </div>\r\n            {action === \"Sign Up\" ? <div></div> : <div className=\"forgot-password\">Lost Password? <span>Click Here!</span></div>\r\n            }\r\n            <div className=\"submit-container\">\r\n                <div className={action === \"Login\" ? \"submit gray\" : \"submit\"} onClick={(event) => {handleSubmit(event); setAction(\"Submit\")}}>Register</div>\r\n                {/*<div className={action === \"Login\" ? \"submit gray\" : \"submit\"} onClick={() => { setAction(\"Sign Up\") }}>Sign Up</div>*/}\r\n                <div className={action === \"Sign Up\" ? \"submit gray\" : \"submit\"} onClick={(event) => {handleLogin(event); setAction(\"Login\")}}>Login</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Account","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Middleware.jsx",["67"],[],"\r\nimport axios from \"axios\";\r\nclass Middleware {\r\n\r\n    // Method to perform user login by sending a POST request with user data\r\n    login(user) {\r\n        return axios.post(\"http://localhost:8089/api/v1/user/login\", user)\r\n    }\r\n    // Method to register a new user by sending a POST request with user data\r\n    register(user) {\r\n        return axios.post(\"http://localhost:8089/api/v1/user/save\", user)\r\n    }\r\n}\r\nexport default new Middleware();","C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\API.js",[],[],"C:\\Users\\8J5891897\\Documents\\GitHubFiles\\RegisterLogin2\\frontend\\src\\components\\Collection.js",["68"],[],"import React, { useState, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport \"./collection.css\";\r\n\r\n\r\n\r\nconst Collection = ({ results, sorted, setSorted }) => {\r\n\r\n  const [books, setBooks] = useState([]);\r\n  const [category, setCategory] = useState([]);  \r\n  const navigate = useNavigate();\r\n  \r\n\r\n  useEffect((e) => {\r\n\r\n    fetchData();\r\n  }, );\r\n\r\n  \r\n\r\n  \r\n const fetchData = async () => {\r\n  const response = await  fetch(\"https://example-data.draftbit.com/books?_sort=$(sort)\")\r\n\r\n  const data = await response.json();\r\n  setBooks(data);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n  return (\r\n    <div className=\"collection_container\">\r\n\r\n      <div className=\"collection_header\">\r\n        <h1>Collection</h1>\r\n        \r\n      </div>\r\n     \r\n     \r\n\r\n      <div className=\"body_area\">\r\n        <div className=\"filter_container\">\r\n          <div className=\"sort_list\">\r\n            <h2 className=\"side_bar_header\">Genres</h2>\r\n            <div className=\"filter_dropdown\">\r\n              <label className=\"sidebar_label_container\">\r\n                <input type=\"radio\" name=\"test\" value=\"\" onClick={(e) => setCategory(e.target.value)} />\r\n                <span className=\"checkmark\">All</span>\r\n              </label>\r\n\r\n              <label className=\"sidebar_label_container\">\r\n                <input type=\"radio\" name=\"test\" value=\"Philosophy\" onClick={(e) => setCategory(e.target.value)} />\r\n                <span className=\"checkmark\">Philosophy</span>\r\n              </label>\r\n\r\n              <label className=\"sidebar_label_container\">\r\n                <input type=\"radio\" name=\"test\" value=\"Fantasy\" onClick={(e) => setCategory(e.target.value)} />\r\n                <span className=\"checkmark\">Fantasy</span>\r\n              </label>\r\n\r\n              <label className=\"sidebar_label_container\">\r\n                <input type=\"radio\" name=\"test\" value=\"Science Fiction\" onClick={(e) => setCategory(e.target.value)} />\r\n                <span className=\"checkmark\">Science Fiction</span>\r\n              </label>\r\n\r\n              <label className=\"sidebar_label_container\">\r\n                <input type=\"radio\" name=\"test\" value=\"Classics\" onClick={(e) => setCategory(e.target.value)} />\r\n                <span className=\"checkmark\">Classics</span>\r\n              </label>\r\n\r\n              <label className=\"sidebar_label_container\">\r\n                <input type=\"radio\" name=\"test\" value=\"Young Adult\" onClick={(e) => setCategory(e.target.value)} />\r\n                <span className=\"checkmark\">Young Adult</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n        <div className=\"content_area\">\r\n          <div className=\"book_list\">\r\n         \r\n          </div>\r\n          {(results == \"\") ?\r\n             <div>\r\n             <div className=\"book_list\">\r\n               {books.map((book) => (\r\n                 book.genre_list?.includes(category) === true ? \r\n                 <div className=\"books\" key={book.id}>      \r\n                   <h2>{book.title}</h2>\r\n                   <img src={book.image_url} alt=\"#\"\r\n                     onClick={() => navigate(`/book/${book.id}`)}\r\n                   />\r\n                   <button>Add to Favorites</button>\r\n                 </div> : <></>\r\n               ))}\r\n             </div>\r\n           </div>\r\n\r\n            :\r\n            <div>\r\n            <div className=\"book_list\">\r\n              {results.map((result) => (\r\n                result.genre_list?.includes(category) === true ? \r\n\r\n                <div key={result.id} className='books'>\r\n                  \r\n\r\n                  <h2>{result.title}</h2>\r\n                  <img src={result.image_url} alt=\"#\"\r\n                    onClick={() => navigate(`/book/${result.id}`)}\r\n                  />\r\n                  <button>Add to Favorites</button>\r\n                </div> : <></>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n            \r\n\r\n\r\n\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default Collection;",{"ruleId":"69","severity":1,"message":"70","line":29,"column":10,"nodeType":"71","messageId":"72","endLine":29,"endColumn":21},{"ruleId":"69","severity":1,"message":"73","line":29,"column":23,"nodeType":"71","messageId":"72","endLine":29,"endColumn":37},{"ruleId":"69","severity":1,"message":"74","line":9,"column":10,"nodeType":"71","messageId":"72","endLine":9,"endColumn":15},{"ruleId":"69","severity":1,"message":"75","line":3,"column":8,"nodeType":"71","messageId":"72","endLine":3,"endColumn":18},{"ruleId":"69","severity":1,"message":"76","line":12,"column":11,"nodeType":"71","messageId":"72","endLine":12,"endColumn":19},{"ruleId":"77","severity":1,"message":"78","line":14,"column":1,"nodeType":"79","endLine":14,"endColumn":33},{"ruleId":"80","severity":1,"message":"81","line":90,"column":21,"nodeType":"82","messageId":"83","endLine":90,"endColumn":23},"no-unused-vars","'isLoggingIn' is assigned a value but never used.","Identifier","unusedVar","'setIsLoggingIn' is assigned a value but never used.","'input' is assigned a value but never used.","'Middleware' is defined but never used.","'navigate' is assigned a value but never used.","import/no-anonymous-default-export","Assign instance to a variable before exporting as module default","ExportDefaultDeclaration","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected"]